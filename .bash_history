vi yii.conf 
/etc/init.d/nginx restart
cd
cd ..
cd advanced
cd frontend/
ls
cd web/
ls
mkdir uploads
chmod 777 uploads
ls
pwd
cd ..
cd b
cd ..
cd backend/
cd web/
ls
cd uploads/
ls
mkdir news
ls
cd ..
ls
ls -l
cd uploads/
ls
ls -l
cd ..
ls
cd uploads/
rm news/
rm -r news/
ls
cd ..
cd /
cd etc/
cd nginx/
cd conf.d/
ls
vi yii.conf 
/etc/init.d/nginx restart
cd ..
cd advanced
ls
cd backend/
ls
cd web/
ls
cd uploads/
ls
cd ..
cd backend/
ls
cd web/
ls
cd uploads/
ls
cd
cd ..
cd advanced
ls
cd backend/
ls
cd web/
ls
vi index.php 
pwd
cd ..
ls
cd .
cd ..
ls
pwd
git pull
cd vendor/
ls
cd
cd vendor/
ls
cd ..
ls
ls -l
cd vendor/
ls
cd ..
pwd
cd ..
ls
cd advanced
ls
git stash
git pull
git reset --hard
git pull
git reset --hard HEAD
git clean -f -d
 git pull
cd vendor/
ls
mv ./autoload.php autoload.php1
ls
cd ..
git pull
cd ..
cd advanced
cd vendor/
ls
mv autoload.php1 autoload.php
ls
cdcd ..
pwd
cd ..
wpd
pwd
ls
ls -a
vi .gitignore 
cd
git add .
git commit -m "fix the .gitignore problem"
git push origin dev
cd ..
cd advanced
git pull
git log
git status
git log --graph
git reflog
git diff
git reset --hard 21d7778f8eccaa7d75c39c2421c2dd1096eabfaa
git pull
cd backend/
cd w
cd web/
ls
cd upload
cd ..
ls -l
chmod 777 uploads
ls -l
cd upload
mkdir news
ls -l
chmod 777 news/
cd ..
ls
cd
cd backend/
ls
cd web/
ls
cd
cd backend/
ls
cd web/
ls
cd
cd ..
cd advanced
cd backend/
cd web/
ls
cd upload
ls
cd news/
cd ..
ls
cd ..
ls
rm -rf upload
ls
cd uploads/
ls
rm news/
rm -rf news/
ls
cd /
cd etc/
cd nginx/
cd conf.d/
vi yii.conf 
cd
cd ..
cd advanced
ls
cd backend/
ls
cd web/
ls
cd uploads/
cd ..
cd i
cd img/
ls
cd ..
cd uploads/
cd ..
vi index.php 
cd
git status
ls
cd
git add .
git commit -m "test"
git push origin dev
cd
ls
ls -a
ls
ls -a
vi .gitignore 
ls
cd
cd backend/
cd web/
ls
cd uploads/
ls
cd news/
ls
cd 20170426/
ls
cd
cd ..
ls
cd advanced
ls
cd frontend/
ls
cd web/
ls
ls -l
cd uploads/
ls
cd ..
ls
cd uploads/
ls
rm 2017-04-20-76.jpg 
ls
cd ..
chmod 777 uploads/
ls -l
pwd
cd ..
cd backend/
ls
cd web/
ls
chmod uploads/
ls -l
cd uploads/
ls
cd news/
ls
cd 20170426/
ls
cd ..
ls
 rm -rf 20170426/
ls
cd ..
cd frontend/
ls
ls -l
cd web/
ls
chmod uploads/
ls -l
pwd
ls
 cd uploads/
ls
ls -l
mysql -u root -p
ls
rm 2017-04-26-29.jpg 
ls
pwd
cd ..
cd..
cd ..
ls
cd web/
ls
vi index.php 
cd ..
cd backend/
ls
cd web/
ls
vi index.php 
mysql -u root -p
cd
php yii/migrate create modify_table_contract_for_date_columns
yii migrate/create modify_table_contract_for_date_columns
php yii migrate/create modify_table_contract_for_date_columns
php yii migrate/up
mysql -u root -p
cd
php yii migrate/create add_pdf_column_for_contract
php yii migrate/up
cd
git commit -m "before add pdf for contract"
git add .
git commit -m "before add pdf for contract"
cd backend/
cd web/
ls
cd uploads/
ls
cd products/
ls
cd 201705/
ls
cd ..
ls
cd ..
ls ..
cd u
mkdir contracts
ls
ls -l
chown nginx /contracts
chown nginx ./contracts
ls -l
chgrp nginx ./contracts
ls -l
ls
cd contracts/
ls
rm c4-2017-05-03-72.pdf 
rm c4-2017-05-03-87.pdf 
ls
mysql -u root -p
ls
pwd
ls -l
cd ..
ls -l
cd products/
ls
cd ..
cd contracts/
ls
cd backend/
cd web/
ls
cd uploads/
ls
cd contracts/
ls
pwd
ls
rm c4-2017-05-03-14.pdf 
ls
ls -l
cd ..
ls
cd news/
ls
cd ..
cd products/
ls
ls -l
cd 201705/
ls -l
cd ..
ls
cd 201705/
ls
cd ..
ls
cd ..
ls
cd contracts/
la
ls 
cd ..
cd news/
ls
cd 20170426/
ls
cd ..
cd 201700426
cd 201700426/
cd 20170503/
ls
cdcd
cd f
cd 
cd frontend/
cd web/
ls
cd uploads/
ls
cd
cd backend/
cd web/
cd uploads/
ls
cd contracts/
ls
mysql -u root -p
ls
cd ..
ls
cd products/
ls
cd 
cd -
cd 201705/
ls
cd ..
ls
cd ..
ls
cd news/
ls
cd ..
ls
cd contracts/
ls
cd ..
cd news/
ls
cd ..
cd products/
ls
cd 201705/
ls
cd
cd frontend/
ls
cd web/
ls
cd uploads/
ls
rm 2017-04-20-76.jpg 
rm 2017-05-03-98.jpg 
ls
./yii/checkContracts/checkContracts
php yii/checkContracts/checkContracts
./yii/checkContracts/checkContracts
./yii /checkContracts/checkContracts
./yii cons/checkContracts/checkContracts
php ./yii cons/checkContracts/checkContracts
php yii cons/checkContracts/checkContracts
./yii
./yii checkContracts/checkContracts
./yii checkContracts/check-contracts
./yii cons/checkContracts/check-contracts
./yii cons/checkContracts/checkContracts
./yii cons/test/my
php yii cons/test/my
php cons/test/my
./yii
./yii test/my
./yii checkContracts/checkContracts
./yii checkContracts/check-contracts
./yii check-contracts/check-contracts
./yii check-contracts/collect
./yii checkContracts/collect
./yii check-contracts/collect
mysql -u root -p
cd
./yii check-contracts/collect
php yii check-contracts/collect
./yii check-contracts/collect
./yii /check-contracts/collect
./yii check-contracts/collect
cd /
cd etc/
cd crontab 
ls
cd crontab 
vi crontab 
cd
pwd
mysql -u root -p
yum -y install postfix
yum remove sendmail
ls
alternatives --config mta
alternatives --display mta
cd /etc/
cd postfix/
vi main.cf 
/etc/rc.d/init.d/postfix start
chkconfig postfix on
yum -y install dovecot
vi /etc/dovecot/dovecot.conf
vi /etc/dovecot/conf.d/10-auth.conf
vi /etc/dovecot/conf.d/10-mail.conf
vi /etc/dovecot/conf.d/10-master.conf
/etc/rc.d/init.d/dovecot start
chkconfig dovecot on
useradd mail
passwd -s mail
passwd -S mail
Passwd -S mail
passwd mail
reboot
dig -t txt mail.ewinjade.com
nslookup
alternatives --display mta
yum install opendkim
vi /etc/opendkim.conf
mkdir /etc/opendkim/keys/YourDomain.com
opendkim-genkey -D /etc/opendkim/keys/mail.ewinjade.com/ -d mail.ewinjade.com -s default 
default._domainkey.mail.ewinjade.com mail.ewinjade.com:default:/etc/opendkim/keys/mail.ewinjade.com/default.private
default._domainkey.mail.ewinjade.com mail.ewinjade.com:default:/etc/opendkim/keys/mail.ewinjade.com/default.privatecd /etc/opendkim/keys
cd /etc/opendkim/keys/
ls
rm -r YourDomain.com/
ls
mkdir /etc/opendkim/keys/mail.ewinjade.com
default._domainkey.mail.ewinjade.com mail.ewinjade.com:default:/etc/opendkim/keys/mail.ewinjade.com/default.privatecd /etc/opendkim/keys
ls
opendkim-genkey -D /etc/opendkim/keys/mail.ewinjade.com/ -d mail.ewinjade.com -s default 
default._domainkey.mail.ewinjade.com mail.ewinjade.com:default:/etc/opendkim/keys/mail.ewinjade.com/default.privatecd /etc/opendkim/keys
ls
wpd
pwd
cd ..
ls
cd KeyTable 
vi KeyTable 
vi SigningTable 
vi TrustedHosts 
cd keys/
ls
cd mail.ewinjade.com/
ls
vi default.txt 
cd /etc/
cd postfix/
ls
vi main.cf 
service opendkim start
postfix reload
reboot
nslookup
ls
cd
tail -f /var/log/maillog
vi /etc/dovecot/conf.d/10-mail.conf 
tail -f /var/log/maillog
reboot
Passwd -S mail
passwd -s mail
passwd -S mail
passwd mail
tail -f /var/log/maillog
nslookup -qt=txt ewinjade.com
dig -t txt ewinjade.com
dig -t txt mail.ewinjade.com
host ewinjade.com
dig txt hotmal.com
dig txt ewinjade.com
dig txt  dkim._domainkey.mail.ewinjade.com
chkconfig --list
php yii /check-contracts collect
php yii check-contracts/collect
cd
ls
cd uploads/
ls
ls -l
cd ..
ls -l
cd uploads/
ls
cd ..
rm -r uploads/
ls
git add .
git commit -m "完成了到期前提醒demo，接下来将做RBAC"
git push origin dev
mysql -u root -p
cd
php yii migrate/create add_name_column_for_table_admin
php yii migrate/up
php yii migrate/create create_table_role
php yii migrate/up
php yii migrate/create create_table_user_role
yii migrate/up
php yii migrate/up
php yii migrate/create create_table_access
php yii migrate/up
php yii migrate/create create_table_role_access
php yii migrate/up
php yii migrate/create create_table_user_access_log
php yii migrate/up
mysql -u root -p
cd backend/
ls -l
pwd
cd views/
ls -l
chmod 777 role/
ls -l
rm -rf role/
ls
mysql -u root -p
cd
php yii/migrate create add_source_column_for_table_user;
yii/migrate create add_source_column_for_table_user;
yii migrate create add_source_column_for_table_user;
php yii migrate create add_source_column_for_table_user;
php yii migrate/create add_source_column_for_table_user;
php yii migrate/up
select * from user;
mysql -u root -p
php yii migrate/create change_column_source_and_phone_for_table_user
./yii migrate/up
mysql -u root -p
cd
./yii migrate/create fix_table_user;
./yii migrate/up1
./yii migrate/up
mysql -u root -p
git add .
git commit -m "完成RBAC"
git push origin dev
git add .
git commit -m "设置了默认后台用户权限，接下来跟正式环境同步"
git push origin dev
cd..
cd ..
cd advanced
ls
git pull
./yii migrate/up
cd frontend/
cd config/
ls
vi main-local.php 
cd ..
cd console/
ls
cd config/
ls
vi main-local.php 
mysql -u root -p
cd ..
pwd
./yii migrate/up
./yii migrate/up 11
./yii migrate/up 10
mysql -u root -p
./yii migrate/up
cd frontend/
cd web/
vi index.php 
cd /
cd etc/
cd nginx/
ls
cd conf.d/
ls
vi yii.conf 
cd
cd ..
cd advanced
cd frontend/
cd web/
vi index.php 
cd ..
cd backend/
cd web/
vi index.php 
cd ..
cd controllers/
ls
cd common/
vi BaseController.php 
mysql -u root -p
git add .
git commit -m "日志功能有点问题，准备在本地同步"
git push origin dev
cd ..
cd advanced
ls
cd backend/
ls
cd web/
ls
cd uploads/
ls
mkdir contracts
ls
chmod 777 contracts/
ls
cd
cd ..
cd advanced
ls
./yii migrate/up
mysql -u root -p
cd backend/
cd co
cd controllers/
ls
vi ContractController.php 
cd ..
cd common/
ls
cd models/
ls
cd ..
ls
cd backend/
cd models/
ls
vi ContractForm.php 
cd
cd ..
cd advanced
./yii migrate/up
./yii migrate/up m170315_030429
mysql -u root -p
cd common/
cd config/
vi main-local.php 
vi test-local.php 
cd ..
cd console/
ls
cd config/
vi main-local.php 
cd ..
cd frontend/
ls
cd config/
ls
vi main-local.php 
vi test-local.php 
reboot
mysql -u root -p
cd
git add .
git commit -m "合同视图文件写错为大写"
git push origin dev
cd ..
cd advanced
ls
git pull
cd backend/
ls
cd web/
ls
cd uploads/
ls
cd contracts/
ls
mysql -u root -p
cd
cd ..
 cd advanced
cd backend/
ls
cd controllers/
ls
pwd
vi ContractController.php 
cd ..
 cd views/
ls
cd contract/
ls
vi view.php 
ls
cd ..
cd m
cd ..
cd models/
ls
pwd
ls
cd ..
ls
cd ..
pwd
ls
cd backend/
ls
cd views/
cd contract/
ls
vi view.php 
ls
cd ..
cd controllers/
ls
cd common/
ls
vi BaseController.php 
ls
cd ..
cd web/
ls
cd uploads/
ls -l
cd contracts/
ls
rm c3-2017-05-23-70.pdf 
rm c3-2017-05-23-80.pdf 
rm c3-2017-05-23-96.pdf 
rm c3-2017-05-23-99.pdf 
rm c3-2017-05-23-34.pdf 
rm c6-2017-05-23-34.pdf 
rm c6-2017-05-23-36.pdf 
ls
cd
cd ..
cd advanced
ls
cd frontend/
cd web/
ls
cd uploads/
ls
cd ..
ls -l
cd
git add .
git commit -m "视图详情有问题"
git push orgin dev
git push origin dev
cd
cd ..
cd advanced
git pull
mysql -u root -p
cd /
cd etc/
cd nginx/
cd conf.d/
ls
vi yii.conf 
vi yii-test.conf
ls
pwd
useradd -d /usr/share/nginx/html/advanced-test
useradd -d /usr/share/nginx/html/advanced prod
passwd prod
usermod -s /sbin/nologin prod
service vsftpd restart
userdel -r prod
cd
cd ..
cd advanced
cd backend/
cd views/
ls
cd user/
ls
vi view.php 
vi index.php 
mysql -u root -p
cd ..
cd advanced
cd backend/
cd config/
ls
vi main-local.php 
cd
cd ..
cd advanced
composer update
cd ..
cd advanced
composer update
composer install
composer update
ls
composer
composer show
composer update yiisoft/yii2
cd backend/
cd views/
ls
cd user/
ls
vi view.php 
mysql -u root -p
cd ..
cd advanced
cd backend/
cd web/
ls
vi index.php 
reboot
cd ..
cd advanced
composer config -g repo.packagist composer https://packagist.phpcomposer.com
ls
vi composer.json 
ls
composer install
composer update
composer update config.fxp-asset.installer-paths
cd ..
cd advanced
composer update
composer global require fxp/composer-asset-plugin:^1.2.0
composer update
compoesr show
composer show
composer global require "fxp/composer-asset-plugin:*"
composer install
ls
rm -rf vendor/
rm composer.lock 
composer install
cd
cd ..
cd advanced
cd backend/
cd config/
ls
vi main-local.php 
cd
cd ..
cd advanced
ls
./yii init
init
./init
cd
pwd
/usr/share/nginx/html/advanced-test
crontab -e 00 09 * * * /usr/share/nginx/html/advanced-test/yii check-contracts/collect
crontab -e
composer require scotthuangzl/yii2-export2excel "dev-master"
compoesr update
composer update
cd /
cd etc/
ls
cd php.d/
ls
cd ..
vi php.ini
reboot
git add .
./yii migrate/create add_column_for_contract
mysql -u root -p
./yii migrate/up
cd
git add .
git commit -m "端午节前的最后Push"
git push origin dev
cd ..
cd advanced
git pull
composer update
composer show
cd ..
cd advanced
composer show
composer require scotthuangzl/yii2-export2excel "dev-master"
git pull
git add .
git commit -m "为正式环境配置做设置"
git push
git checkout
git push origin master
git pull
git add .
git commit -m "解决beforeaction的登录前验证问题"
git push origin dev
cd ..
cd advanced
git pull
git commit -a
git pull
cd
git add .
git commit -m "解决注销后不跳转登录的问题"
git push origin dev
cd
cd ..
cd advanced
git pull
crontab -e
cd
./yii check-contracts/collect
git add .
git commit -m "检查是否有未同步"
git push origin dev
cd ..
cd advanced
git pull
./yii migrate
mysql -u root -p]
mysql -u root -p
